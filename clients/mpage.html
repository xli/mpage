<html>
  <head>
    <style>
    input {
      width: 100%;
    }
    </style>
    <script src="./gadget/prototype.js"></script>
    <script>
      function showPage() {
        var mpageURL = $("mpage_url").value.strip();
        var responseHandler = "function mpageCallback(response){\n"
        responseHandler +=    "  var html = '<link href=\"'+ response.stylesheet +'\" rel=\"Stylesheet\" type=\"text/css\"/>';\n"
        responseHandler +=    "  html += '<div id=\"content\" class=\"wiki\">' + response.content + '</div>';\n"
        responseHandler +=    "  document.body.innerHTML = html;\n"
        responseHandler +=    "}\n"
        var doc = "<body>\n"
        doc += "<sc" + "ript>" + responseHandler + "</scri"+"pt>\n"
        doc += "<sc" + "ript src='" + mpageURL + "'  type='text/javascript'></scri"+"pt>\n"
        doc += "</body>\n"
        
        document.write(doc)
      }
    </script>
  </head>
  <body>
    <p>
      <label for="mpage_url">Mingle Project Mpage URL:</label>
      <input type='text' id='mpage_url' value="http://localhost:3000/projects/mingle_freestyles/mapges/msvSWaXPm2BSrZ41l3MyJUFnL4M2-JVDgiefn956Ij6g"/>
    </p>
    <input type='button' value="Show" onclick="showPage()" />
    <hr/>
    <div id='panel' style="border: solid 1px red;">
      <li>Mingle Project Mpage URL: the url generated by mpage plugin of Mingle</li>
      <li>Click 'Show' button after set variables above</li>
    </div>
  </body>
</html>