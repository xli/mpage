<html>
  <head>
    <style>
    input {
      width: 100%;
    }
    </style>
    <script src="./gadget/prototype.js"></script>
    <script>
      function showPage() {
        var pageName = $("page_name").value.strip();
        var projectURL = $("project_url").value.strip();
        var action = [projectURL, 'mpages.json'].join('/');
        var url = action + "?jsonp=responseHandler&pagename=" + encodeURIComponent(pageName);
        
        var responseHandler = "function responseHandler(response){\n"
        responseHandler +=    "  var html = '<link href=\"'+ response.stylesheet +'\" rel=\"Stylesheet\" type=\"text/css\"/>';\n"
        responseHandler +=    "  html += '<div id=\"content\" class=\"wiki\"><div class=\"to-be-scrolled\">' + response.content + '</div></div>';\n"
        responseHandler +=    "  document.body.innerHTML = html;\n"
        responseHandler +=    "}\n"
        var doc = "<body>\n"
        doc += "<sc" + "ript>" + responseHandler + "</scri"+"pt>\n"
        doc += "<sc" + "ript src='" + url + "'  type='text/javascript'></scri"+"pt>\n"
        doc += "</body>\n"
        
        document.write(doc)
      }
    </script>
  </head>
  <body>
    <p>
      <label for="project_url">Mingle Project URL:</label>
      <input type='text' id='project_url' value="http://xli:pass1.@localhost:8080/projects/mpage"/>
    </p>
    <p>
      <label for="page_name">Mingle Page Name:</label>
      <input type='text' id='page_name' value="Defect Stats"/>
    </p>
    <input type='button' value="Show" onclick="showPage()" />
    <hr/>
    <div id='panel' style="border: solid 1px red;">
      <li>Mingle Project URL: your project url with you login and password specified for basic auth</li>
      <li>Mingle Page Name: the page want to show in this panel</li>
      <li>Click 'Show' button after set variables above</li>
    </div>
  </body>
</html>